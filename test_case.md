# 픽업필터 OFF 일시 테스트 케이스

## 1. 기본 노출 정책 테스트

### TC-1: 기본 가게 노출 조건 검증
**목적**: 픽업필터 OFF 일시 기본 배달탭 노출 정책이 올바르게 적용되는지 확인
**선행 조건**: 
- 픽업필터가 OFF 상태
- 다양한 상태의 가게 데이터 준비

**테스트 단계**:
1. 앱에서 배달탭 진입
2. 픽업필터가 OFF 상태인지 확인
3. 검색 결과 확인

**예상 결과**:
- 추천리랭킹결과 1위~25위가 노출됨
- 가게 노출은 기존 배달탭 노출 정책을 따름

### TC-2: displayable 속성 검증
**목적**: "baemin", "baeminOne", "stod"의 displayable 값에 따른 가게 노출/미노출 검증
**테스트 단계**:
1. 픽업필터 OFF 상태에서 검색
2. 각 서비스 타입별 displayable 값 확인

**예상 결과**:
- displayable: true인 가게만 노출됨
- status가 open이 아닌 가게는 미노출
- 배민1플러스/오픈리스트/울트라콜/파워콜 중 하나라도 없는 가게는 미노출

### TC-3: 바로결제(baropay) 정책 검증
**목적**: 바로결제 설정에 따른 가게 노출 여부 검증
**테스트 데이터**:
- OD only 가게 (바로결제 true/false)
- MP only 가게 (바로결제 true/false)
- OD+MP 가게 (바로결제 true/false)

**예상 결과**:
- OD only 가게: 바로결제 true일 때만 노출
- MP only 가게: 바로결제 true/false 상관없이 노출
- OD+MP 가게: 바로결제 사용여부와 상관없이 노출

## 2. 운영 상태 테스트

### TC-4: finalOperation 속성 검증
**목적**: finalOperation 값에 따른 가게 운영중/준비중 상태 표시 검증
**테스트 데이터**:
- finalOperation: true/false 가게 데이터
- 다양한 baropayLive 상태의 가게

**테스트 단계**:
1. 픽업필터 OFF 상태에서 검색
2. 가게 운영 상태 표시 확인

**예상 결과**:
- finalOperation: true + baropayLive: true → 가게 운영중 표시
- finalOperation: false 또는 baropayLive: false → 가게 준비중 표시

### TC-5: 가게 운영시간 정책 검증
**목적**: 가게 운영시간 설정에 따른 운영 상태 표시 검증
**테스트 데이터**:
- 현재 영업시간 내/외 가게
- 브레이크타임 중인 가게
- 휴무일/임시휴일 설정된 가게

**예상 결과**:
- 영업시간 내 가게: 운영중 표시
- 영업시간 외 가게: 준비중 표시
- 브레이크타임 중인 가게: 준비중 표시
- 휴무일/임시휴일 설정된 가게: 준비중 표시

## 3. 배달 반경 테스트

### TC-6: 배달 반경 정책 검증
**목적**: 배달 반경에 따른 가게 노출 여부 검증
**테스트 데이터**:
- MP 가게 (배달권역 S2 설정)
- OD 한집 가게 (4km 반경)
- OD 알뜰 가게 (3km 반경)

**테스트 단계**:
1. 다양한 위치에서 검색 실행
2. 배달 반경 내/외 가게 노출 여부 확인

**예상 결과**:
- MP 가게: 배달권역(S2)과 교집합인 경우 노출
- OD 한집 가게: 4km 반경 내 위치한 경우 노출
- OD 알뜰 가게: 3km 반경 내 위치한 경우 노출

## 4. 메뉴 및 서비스 테스트

### TC-7: 메뉴 존재 여부 검증
**목적**: 주문 가능한 메뉴 존재 여부에 따른 가게 노출 검증
**테스트 데이터**:
- 주문 가능한 메뉴가 있는 가게
- 주문 가능한 메뉴가 없는 가게

**예상 결과**:
- 주문 가능한 메뉴가 하나라도 있는 가게는 노출
- 주문 가능한 메뉴가 없는 가게는 미노출

### TC-8: 스마트메뉴 사용 여부 검증
**목적**: isUseSmartmenu 설정이 가게 노출에 영향을 주지 않는지 확인
**테스트 데이터**:
- isUseSmartmenu: true 가게
- isUseSmartmenu: false 가게

**예상 결과**:
- 픽업필터 OFF 상태에서는 isUseSmartmenu 값과 상관없이 기존 배달탭 노출 정책에 따라 노출

## 5. 쿠폰 및 필터 조합 테스트

### TC-9: 쿠폰 노출 정책 검증
**목적**: 픽업필터 OFF 상태에서 쿠폰 노출 정책 검증
**테스트 단계**:
1. 픽업필터 OFF 상태에서 검색
2. 쿠폰 노출 확인

**예상 결과**:
- 픽업전용 쿠폰 미노출
- 배달전용 쿠폰 보유 가게만 쿠폰 노출

### TC-10: 필터 조합 정책 검증
**목적**: 픽업필터와 다른 필터 조합 시 정책 검증
**테스트 단계**:
1. 픽업필터 OFF + 별점 필터 적용
2. 픽업필터 OFF + 최소주문금액 필터 적용
3. 픽업필터 OFF + 만나서결제 필터 적용
4. 픽업필터 OFF + 예약가능 필터 적용

**예상 결과**:
- 픽업필터 + 별점: AND 조건 결과 노출
- 픽업필터 + 최소주문금액: 텅화면
- 픽업필터 + 만나서결제: 텅화면
- 픽업필터 + 예약가능: AND 조건 결과 노출

## 6. 랭킹 및 정렬 테스트

### TC-11: 추천 리랭킹 결과 검증
**목적**: 픽업필터 OFF 상태에서 추천 리랭킹 결과 검증
**테스트 단계**:
1. 픽업필터 OFF 상태에서 검색
2. 노출되는 가게 순서 확인

**예상 결과**:
- 추천리랭킹결과 1위~25위가 노출됨
- 운영중 주문유형을 대상으로 하며, 준비중인 경우 displayable=false로 노출

### TC-12: 서비스별 노출 조건 검증
**목적**: serviceable 값에 따른 브로스(od) 노출 조건 검증
**테스트 데이터**:
- serviceable: true/false 가게
- 다양한 센터ID 가게

**예상 결과**:
- serviceable: true인 가게만 노출
- 센터ID가 일치하는 가게만 노출

이 테스트 케이스들은 픽업필터 OFF 일시의 가게 노출 정책을 종합적으로 검증하기 위한 것입니다. 각 테스트는 특정 조건과 예상 결과를 명확히 정의하여 정책이 올바르게 적용되는지 확인합니다.