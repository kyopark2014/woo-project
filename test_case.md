# Test Cases for 픽업필터 OFF 상태 검증

## 1. 기본 노출 정책 검증

### TC-001: 픽업필터 OFF 시 기본 노출 정책 검증
**목적**: 픽업필터가 OFF일 때 기존 배달탭 노출정책을 따르는지 확인
**선행조건**: 
- 앱에 로그인된 상태
- 검색 화면에 접근 가능한 상태
**테스트 단계**:
1. 검색 화면에서 픽업필터가 OFF 상태인지 확인
2. 검색 결과를 확인
**예상 결과**:
- 추천리랭킹결과가 1위~25위까지 노출됨
- 기존 배달탭 노출 조건에 맞는 가게들이 표시됨

### TC-002: 메뉴 존재 여부에 따른 가게 노출 검증
**목적**: 주문 가능한 메뉴가 하나라도 있는 가게가 노출되는지 확인
**테스트 단계**:
1. 픽업필터 OFF 상태에서 검색 실행
2. 검색 결과에서 특정 가게 선택
3. 해당 가게의 메뉴 확인
**예상 결과**:
- 주문 가능한 상태의 메뉴가 하나 이상 있는 가게만 노출됨

## 2. 가게 노출/미노출 조건 검증

### TC-003: 가게 상태(status)에 따른 노출 검증
**목적**: status가 open인 가게만 노출되는지 확인
**테스트 데이터**:
- 가게 A: status = open
- 가게 B: status = closed
**테스트 단계**:
1. 픽업필터 OFF 상태에서 검색 실행
**예상 결과**:
- 가게 A는 검색 결과에 노출됨
- 가게 B는 검색 결과에 노출되지 않음

### TC-004: 광고 상품 이용 여부에 따른 노출 검증
**목적**: 배민1플러스/오픈리스트/울트라콜/파워콜 중 하나를 이용 중인 가게만 노출되는지 확인
**테스트 데이터**:
- 가게 A: 배민1플러스 이용 중
- 가게 B: 오픈리스트 이용 중
- 가게 C: 울트라콜 이용 중
- 가게 D: 파워콜 이용 중
- 가게 E: 광고 상품 미이용
**테스트 단계**:
1. 픽업필터 OFF 상태에서 검색 실행
**예상 결과**:
- 가게 A, B, C, D는 검색 결과에 노출됨
- 가게 E는 검색 결과에 노출되지 않음

### TC-005: 바로결제(baropay) 설정에 따른 노출 검증
**목적**: 바로결제 설정에 따른 가게 노출 여부 확인
**테스트 데이터**:
- 가게 A: OD only, baropay = true
- 가게 B: OD only, baropay = false
- 가게 C: MP only, baropay = true
- 가게 D: MP only, baropay = false
- 가게 E: OD + MP, baropay = true
- 가게 F: OD + MP, baropay = false
**테스트 단계**:
1. 픽업필터 OFF 상태에서 검색 실행
**예상 결과**:
- 가게 A: 노출됨
- 가게 B: 노출되지 않음
- 가게 C: 노출됨
- 가게 D: 노출됨 (MP only는 바로결제 상관없이 노출)
- 가게 E: 노출됨
- 가게 F: 노출됨 (OD+MP는 바로결제 여부로 필터링하지 않음)

### TC-006: 스마트메뉴 사용 여부에 따른 노출 검증
**목적**: 픽업필터 OFF 상태에서 isUseSmartmenu 값이 필터링에 영향을 주지 않는지 확인
**테스트 데이터**:
- 가게 A: isUseSmartmenu = true
- 가게 B: isUseSmartmenu = false
**테스트 단계**:
1. 픽업필터 OFF 상태에서 검색 실행
**예상 결과**:
- 가게 A, B 모두 다른 조건이 충족된다면 노출됨 (스마트메뉴 사용 여부는 필터링 정책에 포함되지 않음)

## 3. 브로스(OD) 노출 조건 검증

### TC-007: 서비스 가능 여부에 따른 노출 검증
**목적**: serviceable 값에 따른 가게 노출 여부 확인
**테스트 데이터**:
- 가게 A: serviceable = true
- 가게 B: serviceable = false
**테스트 단계**:
1. 픽업필터 OFF 상태에서 검색 실행
**예상 결과**:
- 가게 A는 검색 결과에 노출됨
- 가게 B는 검색 결과에 노출되지 않음

### TC-008: 배달 반경에 따른 노출 검증
**목적**: 배달 반경에 따른 가게 노출 여부 확인
**테스트 데이터**:
- 가게 A: MP, 배달권역(S2)과 교집합 있음
- 가게 B: MP, 배달권역(S2)과 교집합 없음
- 가게 C: OD(한집), 사용자 위치에서 3km 거리
- 가게 D: OD(한집), 사용자 위치에서 5km 거리
- 가게 E: OD(알뜰), 사용자 위치에서 2km 거리
- 가게 F: OD(알뜰), 사용자 위치에서 4km 거리
**테스트 단계**:
1. 픽업필터 OFF 상태에서 검색 실행
**예상 결과**:
- 가게 A: 노출됨
- 가게 B: 노출되지 않음
- 가게 C: 노출됨 (한집 4km 이내)
- 가게 D: 노출되지 않음 (한집 4km 초과)
- 가게 E: 노출됨 (알뜰 3km 이내)
- 가게 F: 노출되지 않음 (알뜰 3km 초과)

## 4. 가게 운영 상태 검증

### TC-009: 바로페이라이브 상태에 따른 운영/준비중 표시 검증
**목적**: baropayLive 값에 따른 가게 운영/준비중 상태 표시 확인
**테스트 데이터**:
- 가게 A: baropayLive = true
- 가게 B: baropayLive = false
**테스트 단계**:
1. 픽업필터 OFF 상태에서 검색 실행
**예상 결과**:
- 가게 A: "운영중" 상태로 표시
- 가게 B: "준비중" 상태로 표시

### TC-010: 영업시간에 따른 운영/준비중 표시 검증
**목적**: 현재 시간과 영업시간 설정에 따른 가게 운영/준비중 상태 표시 확인
**테스트 데이터**:
- 가게 A: 현재 시간이 operationTime 내에 있음
- 가게 B: 현재 시간이 operationTime 외에 있음
- 가게 C: 현재 시간이 breakTime에 해당함
**테스트 단계**:
1. 픽업필터 OFF 상태에서 검색 실행
**예상 결과**:
- 가게 A: "운영중" 상태로 표시
- 가게 B: "준비중" 상태로 표시
- 가게 C: "준비중" 상태로 표시

## 5. 쿠폰 및 필터 조합 검증

### TC-011: 픽업필터 OFF 상태에서 쿠폰 노출 정책 검증
**목적**: 픽업필터 OFF 상태에서 쿠폰 노출 정책 확인
**테스트 데이터**:
- 가게 A: 픽업전용 쿠폰 보유
- 가게 B: 배달전용 쿠폰 보유
- 가게 C: 픽업 및 배달 쿠폰 모두 보유
**테스트 단계**:
1. 픽업필터 OFF 상태에서 검색 실행
**예상 결과**:
- 가게 A: 픽업전용 쿠폰 미노출
- 가게 B: 배달전용 쿠폰 노출
- 가게 C: 배달전용 쿠폰만 노출, 픽업전용 쿠폰 미노출

### TC-012: 픽업필터 OFF와 다른 필터 조합 검증
**목적**: 픽업필터 OFF 상태에서 다른 필터와의 조합 결과 확인
**테스트 단계**:
1. 픽업필터 OFF + 별점 필터 적용
2. 픽업필터 OFF + 최소주문금액 필터 적용
3. 픽업필터 OFF + 만나서결제 필터 적용
4. 픽업필터 OFF + 예약가능 필터 적용
**예상 결과**:
- 픽업필터 OFF + 별점: AND 조건 결과 노출
- 픽업필터 OFF + 최소주문금액: 정상 결과 노출 (픽업필터 ON일 때만 텅화면)
- 픽업필터 OFF + 만나서결제: 정상 결과 노출 (픽업필터 ON일 때만 텅화면)
- 픽업필터 OFF + 예약가능: AND 조건 결과 노출

## 6. 랭킹 및 정렬 검증

### TC-013: 픽업필터 OFF 상태에서 추천리랭킹 결과 검증
**목적**: 픽업필터 OFF 상태에서 추천리랭킹 결과가 1위~25위까지 노출되는지 확인
**테스트 단계**:
1. 픽업필터 OFF 상태에서 검색 실행
**예상 결과**:
- 추천리랭킹 결과가 1위~25위까지 노출됨

### TC-014: 픽업필터 OFF 상태에서 운영중/준비중 가게 노출 검증
**목적**: 픽업필터 OFF 상태에서 운영중/준비중 가게 노출 여부 확인
**테스트 단계**:
1. 픽업필터 OFF 상태에서 검색 실행
**예상 결과**:
- 추천리랭킹 결과 중 운영중 주문유형을 대상으로 하며, 준비중인 가게는 displayable=false로 노출됨