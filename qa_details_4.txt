이제 부가세 참고자료 매출 집계 API에 대한 테스트 케이스를 작성하겠습니다.

## 부가세 참고자료 매출 집계 API 테스트 케이스

### 테스트 케이스 개요
- **End Point**: `/api/v1/customer/{customerNo}/additional-tax/sales/summary`
- **Path Parameters**: customerNo (거래처번호)
- **Request Parameters**: startMonth, endMonth, excludeMeet
- **Response**: 매출구분코드, 매출구분명, 공급가액, 부가세, 합계 등

### 테스트 케이스 목록

#### 테스트 케이스 1: 기본 매출 집계 조회
**설명**: 특정 기간의 부가세 참고자료 매출 집계를 정상적으로 조회하는 테스트
- **입력 값**:
  - Path Parameter: customerNo = "202305240722"
  - Request Parameters:
    - startMonth = "2024-01"
    - endMonth = "2024-03"
    - excludeMeet = false
- **예상 결과**:
  - HTTP 상태 코드: 200 OK
  - 응답 본문: 매출구분코드, 매출구분명, 공급가액, 부가세, 합계 정보가 포함된 배열
  - 기타매출 항목에 배민 부담 가게배달팁이 포함되어 있음

#### 테스트 케이스 2: 만나서결제 제외 매출 집계 조회
**설명**: 만나서결제를 제외한 부가세 참고자료 매출 집계를 조회하는 테스트
- **입력 값**:
  - Path Parameter: customerNo = "202305240722"
  - Request Parameters:
    - startMonth = "2024-01"
    - endMonth = "2024-03"
    - excludeMeet = true
- **예상 결과**:
  - HTTP 상태 코드: 200 OK
  - 응답 본문: 만나서결제를 제외한 매출 집계 정보
  - 기타매출 항목에 배민 부담 가게배달팁이 포함되어 있음

#### 테스트 케이스 3: 배민 부담 가게배달팁이 있는 매출 집계 조회
**설명**: 배민 부담 가게배달팁이 포함된 매출 집계를 확인하는 테스트
- **입력 값**:
  - Path Parameter: customerNo = "202305240722"
  - Request Parameters:
    - startMonth = "2024-03"
    - endMonth = "2024-03"
    - excludeMeet = false
- **예상 결과**:
  - HTTP 상태 코드: 200 OK
  - 응답 본문: 매출 집계 정보
  - 기타매출 항목에 배민 부담 가게배달팁(공급가액: 2,727원, 부가세: 273원, 합계: 3,000원)이 포함되어 있음

#### 테스트 케이스 4: 잘못된 기간 형식으로 조회
**설명**: 잘못된 형식의 기간으로 조회 시 오류 처리 확인
- **입력 값**:
  - Path Parameter: customerNo = "202305240722"
  - Request Parameters:
    - startMonth = "2024/01"
    - endMonth = "2024/03"
    - excludeMeet = false
- **예상 결과**:
  - HTTP 상태 코드: 400 Bad Request
  - 응답 본문: 유효하지 않은 날짜 형식에 대한 오류 메시지

#### 테스트 케이스 5: 시작 월이 종료 월보다 늦은 경우
**설명**: 시작 월이 종료 월보다 늦은 경우의 오류 처리 확인
- **입력 값**:
  - Path Parameter: customerNo = "202305240722"
  - Request Parameters:
    - startMonth = "2024-04"
    - endMonth = "2024-01"
    - excludeMeet = false
- **예상 결과**:
  - HTTP 상태 코드: 400 Bad Request
  - 응답 본문: 시작 월이 종료 월보다 늦을 수 없다는 오류 메시지

#### 테스트 케이스 6: 존재하지 않는 거래처번호로 조회
**설명**: 존재하지 않는 거래처번호로 조회 시 오류 처리 확인
- **입력 값**:
  - Path Parameter: customerNo = "999999999999"
  - Request Parameters:
    - startMonth = "2024-01"
    - endMonth = "2024-03"
    - excludeMeet = false
- **예상 결과**:
  - HTTP 상태 코드: 404 Not Found
  - 응답 본문: 거래처를 찾을 수 없다는 오류 메시지

#### 테스트 케이스 7: 매출 데이터가 없는 기간 조회
**설명**: 매출 데이터가 없는 기간에 대한 조회 결과 확인
- **입력 값**:
  - Path Parameter: customerNo = "202305240722"
  - Request Parameters:
    - startMonth = "2020-01"
    - endMonth = "2020-03"
    - excludeMeet = false
- **예상 결과**:
  - HTTP 상태 코드: 200 OK
  - 응답 본문: 빈 배열 또는 모든 매출 항목이 0인 결과

#### 테스트 케이스 8: 매출 구분별 합계 검증
**설명**: 각 매출 구분별 합계가 공급가액과 부가세의 합과 일치하는지 검증
- **입력 값**:
  - Path Parameter: customerNo = "202305240722"
  - Request Parameters:
    - startMonth = "2024-01"
    - endMonth = "2024-03"
    - excludeMeet = false
- **예상 결과**:
  - HTTP 상태 코드: 200 OK
  - 응답 본문: 각 매출 구분별로 totalAmount = supplyAmount + vatAmount 관계가 성립함

### 테스트 케이스 실행 방법
1. API 테스트 도구(Postman, curl 등)를 사용하여 각 테스트 케이스의 요청을 실행
2. 응답 결과를 예상 결과와 비교하여 검증
3. 특히 배민 부담 가게배달팁이 기타매출 항목에 정확히 포함되어 있는지 확인

### 주의사항
- 테스트 실행 전 적절한 권한과 인증 정보가 설정되어 있어야 함
- 실제 데이터를 사용하는 경우 테스트 결과가 예상과 다를 수 있으므로 테스트 환경에서 실행 권장
- 배민 부담 가게배달팁은 기타매출(PG) 항목에 포함되어 제공되므로 해당 항목을 중점적으로 확인

이상의 테스트 케이스를 통해 부가세 참고자료 매출 집계 API가 배민 부담 가게배달팁을 포함하여 정확하게 동작하는지 검증할 수 있습니다.