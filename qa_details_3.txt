이제 파일 내용을 확인했으니, 지급 거래집계 조회 API에 대한 테스트 케이스를 작성하겠습니다.

# 지급 거래집계 조회 API (공통API) 테스트 케이스

## 테스트 케이스 정보
- **API 명칭**: 지급 거래집계 조회 API (공통API)
- **End Point**: /common-api/v1/gives/{giveId}/tx-summaries
- **Path Parameters**: giveId (지급 번호)
- **Response**: 정산기준조정금액(배민 부담 가게배달팁 포함) 등 거래집계 정보

## 테스트 케이스

### 테스트 케이스 1: 기본 지급 거래집계 조회
**목적**: 유효한 지급 번호로 거래집계 정보를 정상적으로 조회할 수 있는지 확인
- **입력**:
  - Path Parameter: 유효한 giveId
- **예상 결과**:
  - HTTP 상태 코드: 200 OK
  - Response Body: 거래집계 정보가 포함된 JSON 응답
  - 필수 필드 확인: txDate, settleCode, serviceType, giveCycleCode, customerNo, baseAmount, txResultAmount 등이 포함됨

### 테스트 케이스 2: 할인이 없는 거래집계 조회
**목적**: 할인이 없는 거래의 집계 정보가 올바르게 표시되는지 확인
- **입력**:
  - Path Parameter: 할인이 없는 거래의 giveId
- **예상 결과**:
  - HTTP 상태 코드: 200 OK
  - 정산기준거래금액: 주문금액(10,000원) + 가게배달팁(3,000원) = 13,000원
  - 정산기준조정금액: 0원 (adjustAmounts 배열이 비어있거나 금액이 0)
  - 정산기준금액: 13,000원
  - 결제정산수수료: 공급가액 390원, 부가세 39원
  - 정산예정금액: 12,571원

### 테스트 케이스 3: 배민 부담 가게배달팁이 있는 거래집계 조회
**목적**: 배민 부담 가게배달팁이 포함된 거래의 집계 정보가 올바르게 표시되는지 확인
- **입력**:
  - Path Parameter: 배민 부담 가게배달팁이 있는 거래의 giveId
- **예상 결과**:
  - HTTP 상태 코드: 200 OK
  - 정산기준거래금액: 주문금액(10,000원)만 포함
  - 정산기준조정금액: adjustAmounts 배열에 BARO_WOOWABROS_CHARGE_DELIVERY_TIP 코드 항목 포함
    - code: "BARO_WOOWABROS_CHARGE_DELIVERY_TIP"
    - amount: 3,000원
    - supplyAmount: 2,727원
    - vat: 273원
  - 정산기준금액: 13,000원
  - 결제정산수수료: 공급가액 390원, 부가세 39원
  - 정산예정금액: 12,571원

### 테스트 케이스 4: 존재하지 않는 지급 번호로 조회
**목적**: 존재하지 않는 지급 번호로 요청 시 적절한 오류 응답을 반환하는지 확인
- **입력**:
  - Path Parameter: 존재하지 않는 giveId
- **예상 결과**:
  - HTTP 상태 코드: 404 Not Found
  - 적절한 오류 메시지 포함

### 테스트 케이스 5: 권한이 없는 사용자의 조회 요청
**목적**: 권한이 없는 사용자가 API를 호출할 때 적절한 오류 응답을 반환하는지 확인
- **입력**:
  - Path Parameter: 유효한 giveId
  - 인증 토큰: 권한이 없는 사용자의 토큰
- **예상 결과**:
  - HTTP 상태 코드: 403 Forbidden
  - 적절한 오류 메시지 포함

### 테스트 케이스 6: 여러 종류의 정산기준조정금액이 포함된 거래집계 조회
**목적**: 배민 부담 가게배달팁과 다른 조정 항목이 함께 있는 경우 모두 올바르게 표시되는지 확인
- **입력**:
  - Path Parameter: 여러 조정 항목이 있는 거래의 giveId
- **예상 결과**:
  - HTTP 상태 코드: 200 OK
  - adjustAmounts 배열에 여러 항목이 포함됨:
    - BARO_WOOWABROS_CHARGE_DELIVERY_TIP (배민 부담 가게배달팁)
    - 기타 조정 항목들(사장님부담 쿠폰, 메뉴할인지원 등)
  - 각 항목의 금액이 올바르게 표시됨

### 테스트 케이스 7: 대용량 거래 데이터 조회 성능 테스트
**목적**: 대량의 거래 데이터가 있는 지급 번호 조회 시 성능이 적절한지 확인
- **입력**:
  - Path Parameter: 대량의 거래 데이터가 있는 giveId
- **예상 결과**:
  - HTTP 상태 코드: 200 OK
  - 응답 시간이 허용 가능한 범위 내에 있음
  - 모든 거래 데이터가 올바르게 포함됨

### 테스트 케이스 8: 취소된 거래가 포함된 거래집계 조회
**목적**: 취소된 거래가 포함된 경우 거래집계 정보가 올바르게 표시되는지 확인
- **입력**:
  - Path Parameter: 취소된 거래가 포함된 giveId
- **예상 결과**:
  - HTTP 상태 코드: 200 OK
  - 취소된 거래의 금액이 적절히 반영됨
  - 정산예정금액이 올바르게 계산됨

## 결론

위 테스트 케이스들은 지급 거래집계 조회 API의 다양한 시나리오를 검증합니다. 특히 배민 부담 가게배달팁(HVA 배달팁 할인)이 정산기준조정금액에 올바르게 포함되는지 확인하는 데 중점을 두었습니다. 이 테스트 케이스들을 통해 API가 정상적으로 작동하고 모든 필요한 정보를 제공하는지 검증할 수 있습니다.