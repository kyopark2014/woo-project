이제 부가세 참고자료 매출 상세 API에 대한 테스트 케이스를 작성하겠습니다.

# 부가세 참고자료 매출 상세 API 테스트 케이스

## API 정보
- **End Point**: `/api/v1/customer/{customerNo}/additional-tax/sales/detail`
- **Path Parameters**: customerNo (거래처번호)
- **Request Parameters**: startMonth, endMonth, excludeMeet
- **Response**: 일자, 매출구분코드, 매출구분명, 결제수단코드, 결제수단명 등

## 테스트 케이스

### 테스트 케이스 1: 기본 조회 기능 검증
**목적**: API의 기본 조회 기능이 정상적으로 작동하는지 확인
- **입력**:
  - customerNo: 유효한 거래처번호
  - startMonth: 현재 월의 첫 날 (yyyy-MM)
  - endMonth: 현재 월의 마지막 날 (yyyy-MM)
  - excludeMeet: false
- **예상 결과**:
  - 상태 코드: 200 OK
  - 응답 데이터: 해당 기간의 매출 상세 데이터가 포함된 배열
  - 각 항목에는 txDate, salesType, salesTypeName, payMethod, payMethodText, serviceTxNo, supplyAmount, vatAmount, totalAmount 필드가 포함됨

### 테스트 케이스 2: 배민 부담 가게배달팁 포함 여부 확인
**목적**: 배민 부담 가게배달팁(HVA 배달팁 할인)이 기타매출로 정상 포함되는지 확인
- **입력**:
  - customerNo: 배민 부담 가게배달팁이 있는 거래처번호
  - startMonth: 배민 부담 가게배달팁 거래가 있는 월 (yyyy-MM)
  - endMonth: 동일 월 (yyyy-MM)
  - excludeMeet: false
- **예상 결과**:
  - 상태 코드: 200 OK
  - 응답 데이터: 배민 부담 가게배달팁 항목이 포함된 매출 상세 데이터
  - 해당 항목의 salesType: "PG"
  - 해당 항목의 salesTypeName: "기타매출"
  - 해당 항목의 payMethod: "BARO_WOOWABROS_CHARGE_DELIVERY_TIP"
  - 해당 항목의 payMethodText: "배민 부담 가게배달팁"

### 테스트 케이스 3: 날짜 범위 유효성 검증
**목적**: 날짜 범위 파라미터의 유효성 검증 확인
- **입력**:
  - customerNo: 유효한 거래처번호
  - startMonth: 종료월보다 이후 날짜 (yyyy-MM)
  - endMonth: 시작월보다 이전 날짜 (yyyy-MM)
  - excludeMeet: false
- **예상 결과**:
  - 상태 코드: 400 Bad Request
  - 오류 메시지: 날짜 범위 관련 오류 메시지

### 테스트 케이스 4: 만나서결제 제외 옵션 검증
**목적**: excludeMeet 파라미터가 정상 작동하는지 확인
- **입력**:
  - customerNo: 만나서결제 거래가 있는 거래처번호
  - startMonth: 만나서결제 거래가 있는 월 (yyyy-MM)
  - endMonth: 동일 월 (yyyy-MM)
  - excludeMeet: true
- **예상 결과**:
  - 상태 코드: 200 OK
  - 응답 데이터: 만나서결제 관련 항목이 제외된 매출 상세 데이터

### 테스트 케이스 5: 거래처번호 유효성 검증
**목적**: 존재하지 않는 거래처번호에 대한 처리 확인
- **입력**:
  - customerNo: 존재하지 않는 거래처번호
  - startMonth: 유효한 시작월 (yyyy-MM)
  - endMonth: 유효한 종료월 (yyyy-MM)
  - excludeMeet: false
- **예상 결과**:
  - 상태 코드: 404 Not Found 또는 빈 결과 배열

### 테스트 케이스 6: 금액 계산 정확성 검증
**목적**: 배민 부담 가게배달팁의 금액 계산이 정확한지 확인
- **입력**:
  - customerNo: 배민 부담 가게배달팁이 있는 거래처번호
  - startMonth: 배민 부담 가게배달팁 거래가 있는 월 (yyyy-MM)
  - endMonth: 동일 월 (yyyy-MM)
  - excludeMeet: false
- **예상 결과**:
  - 상태 코드: 200 OK
  - 배민 부담 가게배달팁 항목의 supplyAmount: 2,727원 (공급가액)
  - 배민 부담 가게배달팁 항목의 vatAmount: 273원 (부가세)
  - 배민 부담 가게배달팁 항목의 totalAmount: 3,000원 (합계)

### 테스트 케이스 7: 여러 월에 걸친 조회 검증
**목적**: 여러 월에 걸친 조회가 정상 작동하는지 확인
- **입력**:
  - customerNo: 유효한 거래처번호
  - startMonth: 3개월 전 (yyyy-MM)
  - endMonth: 현재 월 (yyyy-MM)
  - excludeMeet: false
- **예상 결과**:
  - 상태 코드: 200 OK
  - 응답 데이터: 3개월간의 매출 상세 데이터가 포함된 배열
  - 데이터가 txDate 기준으로 정렬되어 있음

### 테스트 케이스 8: 필수 파라미터 누락 검증
**목적**: 필수 파라미터 누락 시 적절한 오류 응답 확인
- **입력**:
  - customerNo: 유효한 거래처번호
  - startMonth: 누락
  - endMonth: 유효한 종료월 (yyyy-MM)
  - excludeMeet: false
- **예상 결과**:
  - 상태 코드: 400 Bad Request
  - 오류 메시지: 필수 파라미터 누락 관련 메시지

### 테스트 케이스 9: 매출 유형별 분류 검증
**목적**: 다양한 매출 유형이 올바르게 분류되는지 확인
- **입력**:
  - customerNo: 다양한 매출 유형이 있는 거래처번호
  - startMonth: 유효한 시작월 (yyyy-MM)
  - endMonth: 유효한 종료월 (yyyy-MM)
  - excludeMeet: false
- **예상 결과**:
  - 상태 코드: 200 OK
  - 응답 데이터: 다양한 매출 유형(카드매출, 현금매출, 기타매출 등)이 올바르게 분류된 데이터

### 테스트 케이스 10: 결제수단별 분류 검증
**목적**: 다양한 결제수단이 올바르게 분류되는지 확인
- **입력**:
  - customerNo: 다양한 결제수단을 사용한 거래처번호
  - startMonth: 유효한 시작월 (yyyy-MM)
  - endMonth: 유효한 종료월 (yyyy-MM)
  - excludeMeet: false
- **예상 결과**:
  - 상태 코드: 200 OK
  - 응답 데이터: 다양한 결제수단(신용카드, 배민 부담 가게배달팁 등)이 올바르게 분류된 데이터

이상의 테스트 케이스를 통해 부가세 참고자료 매출 상세 API의 기능과 배민 부담 가게배달팁(HVA 배달팁 할인) 관련 처리가 정상적으로 작동하는지 검증할 수 있습니다.