이제 파일 내용을 확인했으니, 요청하신 QA 항목에 대한 테스트 케이스를 작성하겠습니다. 요청하신 항목은 "부가세 참고자료 매출 상세 메일 - 배민 부담 가게배달팁 '기타매출'로 포함/제공"에 관한 것입니다.

# 테스트 케이스: 부가세 참고자료 매출 상세 메일 - 배민 부담 가게배달팁 기능

## 테스트 케이스 ID: TC_VAT_MAIL_001

### 테스트 목적
부가세 참고자료 매출 상세 메일에서 배민 부담 가게배달팁이 '기타매출'로 올바르게 포함되고 제공되는지 검증한다.

### 선행 조건
1. 테스트 환경이 구성되어 있어야 함
2. 테스트용 거래처번호가 존재해야 함
3. 배민 부담 가게배달팁이 포함된 주문 데이터가 시스템에 존재해야 함

### 테스트 데이터
- 거래처번호: 테스트용 거래처번호
- 조회 기간: 배민 부담 가게배달팁이 포함된 거래가 있는 기간
- 배민 부담 가게배달팁 금액: 3,000원 (공급가액: 2,727원, 부가세: 273원)

### 테스트 단계
1. 부가세 참고자료 매출 상세 메일 API를 호출한다.
   - 엔드포인트: `/api/v1/customer/{customerNo}/additional-tax/sales/detail`
   - HTTP 메서드: GET
   - 파라미터:
     - customerNo: 테스트용 거래처번호
     - startMonth: 조회 시작 연월 (yyyy-MM)
     - endMonth: 조회 종료 연월 (yyyy-MM)
     - excludeMeet: false (만나서결제 포함)

2. API 응답을 확인한다.

3. 메일로 전송된 부가세 참고자료 매출 상세 내역을 확인한다.
   - 엔드포인트: `/api/v1/customer/{customerNo}/additional-tax/sales/detail/mail`
   - HTTP 메서드: POST
   - 파라미터:
     - customerNo: 테스트용 거래처번호
     - startMonth: 조회 시작 연월 (yyyy-MM)
     - endMonth: 조회 종료 연월 (yyyy-MM)
     - excludeMeet: false (만나서결제 포함)
     - email: 테스트용 이메일 주소

### 검증 항목
1. API 응답에서 배민 부담 가게배달팁이 포함된 거래가 존재하는지 확인
   - `payMethod` 필드가 "BARO_WOOWABROS_CHARGE_DELIVERY_TIP"인 항목이 있어야 함
   - `payMethodText` 필드가 "배민 부담 가게배달팁"인 항목이 있어야 함
   - `salesType` 필드가 "PG"인 항목이 있어야 함
   - `salesTypeName` 필드가 "기타매출"인 항목이 있어야 함

2. 배민 부담 가게배달팁 항목의 금액이 올바른지 확인
   - `supplyAmount`: 2,727원 (공급가액)
   - `vatAmount`: 273원 (부가세)
   - `totalAmount`: 3,000원 (합계)

3. 메일로 전송된 부가세 참고자료 매출 상세 내역에서 배민 부담 가게배달팁이 올바르게 표시되는지 확인
   - 매출구분: "기타매출"
   - 결제수단: "배민 부담 가게배달팁"
   - 공급가액: 2,727원
   - 부가세: 273원
   - 합계: 3,000원

### 기대 결과
1. API 응답에서 배민 부담 가게배달팁이 "기타매출"로 올바르게 분류되어 있어야 함
2. 금액이 정확하게 표시되어야 함 (공급가액: 2,727원, 부가세: 273원, 합계: 3,000원)
3. 메일로 전송된 부가세 참고자료 매출 상세 내역에서도 배민 부담 가게배달팁이 "기타매출"로 올바르게 표시되어야 함

### 비고
- 배민 부담 가게배달팁은 HVA 배달팁 할인을 의미함
- 결제수단코드 "BARO_WOOWABROS_CHARGE_DELIVERY_TIP"가 신규로 추가됨

## 테스트 케이스 ID: TC_VAT_MAIL_002

### 테스트 목적
부가세 참고자료 매출 상세 메일에서 배민 부담 가게배달팁이 포함된 경우와 포함되지 않은 경우의 기타매출 합계가 올바르게 계산되는지 검증한다.

### 선행 조건
1. 테스트 환경이 구성되어 있어야 함
2. 테스트용 거래처번호가 존재해야 함
3. 배민 부담 가게배달팁이 포함된 주문과 포함되지 않은 주문 데이터가 시스템에 존재해야 함

### 테스트 데이터
- 거래처번호: 테스트용 거래처번호
- 조회 기간: 배민 부담 가게배달팁이 포함된 거래와 포함되지 않은 거래가 모두 있는 기간
- 배민 부담 가게배달팁 금액: 3,000원 (공급가액: 2,727원, 부가세: 273원)

### 테스트 단계
1. 부가세 참고자료 매출 집계 API를 호출한다.
   - 엔드포인트: `/api/v1/customer/{customerNo}/additional-tax/sales/summary`
   - HTTP 메서드: GET
   - 파라미터:
     - customerNo: 테스트용 거래처번호
     - startMonth: 조회 시작 연월 (yyyy-MM)
     - endMonth: 조회 종료 연월 (yyyy-MM)
     - excludeMeet: false (만나서결제 포함)

2. API 응답을 확인한다.

3. 메일로 전송된 부가세 참고자료 매출 집계 내역을 확인한다.
   - 엔드포인트: `/api/v1/customer/{customerNo}/additional-tax/mail`
   - HTTP 메서드: POST
   - 파라미터:
     - customerNo: 테스트용 거래처번호
     - startMonth: 조회 시작 연월 (yyyy-MM)
     - endMonth: 조회 종료 연월 (yyyy-MM)
     - excludeMeet: false (만나서결제 포함)
     - email: 테스트용 이메일 주소

### 검증 항목
1. API 응답에서 기타매출 항목이 존재하는지 확인
   - `salesType` 필드가 "PG"인 항목이 있어야 함
   - `salesTypeName` 필드가 "기타매출"인 항목이 있어야 함

2. 기타매출 항목에 배민 부담 가게배달팁 금액이 포함되어 있는지 확인
   - 배민 부담 가게배달팁이 있는 경우: 기타매출 금액에 배민 부담 가게배달팁 금액이 포함되어야 함
   - 배민 부담 가게배달팁이 없는 경우: 기타매출 금액에 배민 부담 가게배달팁 금액이 포함되지 않아야 함

3. 메일로 전송된 부가세 참고자료 매출 집계 내역에서 기타매출 항목이 올바르게 표시되는지 확인
   - 매출구분: "기타매출"
   - 공급가액: 배민 부담 가게배달팁의 공급가액이 포함된 금액
   - 부가세: 배민 부담 가게배달팁의 부가세가 포함된 금액
   - 합계: 배민 부담 가게배달팁의 합계가 포함된 금액

### 기대 결과
1. API 응답에서 기타매출 항목에 배민 부담 가게배달팁 금액이 올바르게 포함되어 있어야 함
2. 메일로 전송된 부가세 참고자료 매출 집계 내역에서도 기타매출 항목에 배민 부담 가게배달팁 금액이 올바르게 포함되어 있어야 함
3. 배민 부담 가게배달팁이 없는 경우, 기타매출 금액에 해당 금액이 포함되지 않아야 함

### 비고
- 배민 부담 가게배달팁은 HVA 배달팁 할인을 의미함
- 기타매출에는 배민 부담 가게배달팁 외에 다른 항목도 포함될 수 있음

## 테스트 케이스 ID: TC_VAT_MAIL_003

### 테스트 목적
부가세 참고자료 매출 상세 메일에서 배민 부담 가게배달팁이 포함된 경우, FAX 전송 시에도 올바르게 '기타매출'로 포함되는지 검증한다.

### 선행 조건
1. 테스트 환경이 구성되어 있어야 함
2. 테스트용 거래처번호가 존재해야 함
3. 배민 부담 가게배달팁이 포함된 주문 데이터가 시스템에 존재해야 함
4. FAX 전송이 가능한 환경이 구성되어 있어야 함

### 테스트 데이터
- 거래처번호: 테스트용 거래처번호
- 조회 기간: 배민 부담 가게배달팁이 포함된 거래가 있는 기간
- 배민 부담 가게배달팁 금액: 3,000원 (공급가액: 2,727원, 부가세: 273원)
- FAX 번호: 테스트용 FAX 번호

### 테스트 단계
1. 부가세 참고자료 FAX 전송 API를 호출한다.
   - 엔드포인트: `/api/v3/customer/{customerNo}/additional-tax/fax`
   - HTTP 메서드: POST
   - 파라미터:
     - customerNo: 테스트용 거래처번호
     - startMonth: 조회 시작 연월 (yyyy-MM)
     - endMonth: 조회 종료 연월 (yyyy-MM)
     - excludeMeet: false (만나서결제 포함)
     - faxNo: 테스트용 FAX 번호

2. API 응답을 확인한다.

3. FAX로 전송된 부가세 참고자료를 확인한다.

### 검증 항목
1. API 응답이 성공적인지 확인

2. FAX로 전송된 부가세 참고자료에서 기타매출 항목이 올바르게 표시되는지 확인
   - 매출구분: "기타매출"
   - 공급가액: 배민 부담 가게배달팁의 공급가액이 포함된 금액 (2,727원 이상)
   - 부가세: 배민 부담 가게배달팁의 부가세가 포함된 금액 (273원 이상)
   - 합계: 배민 부담 가게배달팁의 합계가 포함된 금액 (3,000원 이상)

### 기대 결과
1. API 호출이 성공적으로 완료되어야 함
2. FAX로 전송된 부가세 참고자료에서 기타매출 항목에 배민 부담 가게배달팁 금액이 올바르게 포함되어 있어야 함

### 비고
- 배민 부담 가게배달팁은 HVA 배달팁 할인을 의미함
- FAX 전송 시에는 상세 내역이 아닌 집계 내역만 전송될 수 있음
- 기타매출에는 배민 부담 가게배달팁 외에 다른 항목도 포함될 수 있음

이상 3개의 테스트 케이스를 통해 부가세 참고자료 매출 상세 메일에서 배민 부담 가게배달팁이 '기타매출'로 올바르게 포함되고 제공되는지 검증할 수 있습니다.